--[[
    CROSS-PLACE HOP: LOW POPULATION HUNTER
    Tujuan: Pindah ke Map 2 langsung menuju server yang sepi.
]]

local Http = game:GetService("HttpService")
local TPS = game:GetService("TeleportService")
local Players = game:GetService("Players")

-- === KONFIGURASI ===
-- Masukkan Place ID Map 2 di sini!
local TargetMap2_ID = 129009554587176 

local function HopToLowPopServer()
    if TargetMap2_ID == 0 then
        warn("‚ö†Ô∏è ID MAP 2 BELUM DIISI!")
        return
    end

    print("üïµÔ∏è Mencari Server Map 2 yang sepi...")
    
    -- SortOrder=Asc artinya urutkan dari yang paling SEDIKIT pemainnya
    local url = "https://games.roblox.com/v1/games/" .. TargetMap2_ID .. "/servers/Public?sortOrder=Asc&limit=100"
    
    local success, result = pcall(function()
        return Http:JSONDecode(game:HttpGet(url))
    end)
    
    if success and result and result.data then
        for _, server in pairs(result.data) do
            -- Syarat:
            -- 1. Server tidak penuh
            -- 2. BUKAN Server tempat kita sekarang (jika kita sudah di Map 2)
            -- 3. Pemain > 0 (Hindari server glitch 0 player yang kadang error)
            
            if server.playing < server.maxPlayers and server.id ~= game.JobId and server.playing > 0 then
                
                print("‚úÖ Ditemukan Server Sepi!")
                print("   ID: " .. server.id)
                print("   Jumlah Pemain: " .. server.playing)
                print("   Ping: " .. (server.ping or "?"))
                
                TPS:TeleportToPlaceInstance(TargetMap2_ID, server.id, Players.LocalPlayer)
                return -- Stop script setelah teleport
            end
        end
        print("‚ùå Tidak menemukan server sepi di list 100 teratas.")
    else
        warn("‚ùå Gagal mengambil data server (HTTP Error).")
    end
end

-- Eksekusi
HopToLowPopServer()
